//Builtin plugins
//apply plugin: 'com.gradle.enterprise'
apply plugin: 'groovy'
apply plugin: 'java-gradle-plugin'
apply plugin: 'project-report'

//External plugins
apply plugin: 'com.fizzpod.info'
apply plugin: 'com.fizzpod.sweeney'
apply plugin: 'com.github.ben-manes.versions'
apply plugin: 'org.owasp.dependencycheck'

buildScan {
  termsOfServiceUrl = 'https://gradle.com/terms-of-service'    
  termsOfServiceAgree = 'yes'                                  
}

sourceCompatibility=1.8
targetCompatibility=1.8

repositories {
  mavenLocal()
  mavenCentral()
  maven {
    url "https://plugins.gradle.org/m2/"
  }
}

dependencies {
	api gradleApi()
	implementation localGroovy()
}

sweeney {
	enforce 'jdk:[1.8,)'
	enforce 'gradle:[7.0.0,)'
}

dependencyCheck {
  //don't fail the build on CVSS scores, this should be updated to '4' once all builds are clean
  failBuildOnCVSS=7
  analyzers {
    assemblyEnabled=false
  }
}